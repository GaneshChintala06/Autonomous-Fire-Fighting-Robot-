<svg viewBox="0 0 1400 1000" xmlns="http://www.w3.org/2000/svg">
  <!-- Title -->
  <text x="700" y="30" font-size="24" font-weight="bold" text-anchor="middle" fill="#333">Fire Fighting Robot - Circuit Diagram</text>
  
  <!-- ESP32-CAM -->
  <g id="esp32cam">
    <rect x="550" y="60" width="300" height="180" fill="#2c3e50" stroke="#000" stroke-width="2" rx="5"/>
    <text x="700" y="90" font-size="18" font-weight="bold" fill="#fff" text-anchor="middle">ESP32-CAM</text>
    
    <!-- Power Pins -->
    <circle cx="570" cy="120" r="4" fill="#ff0000"/>
    <text x="585" y="125" font-size="12" fill="#fff">5V</text>
    
    <circle cx="570" cy="145" r="4" fill="#000"/>
    <text x="585" y="150" font-size="12" fill="#fff">GND</text>
    
    <!-- Motor Control Pins -->
    <circle cx="830" cy="120" r="4" fill="#00ff00"/>
    <text x="755" y="125" font-size="10" fill="#fff">GPIO 13 (enA)</text>
    
    <circle cx="830" cy="140" r="4" fill="#00ff00"/>
    <text x="760" y="145" font-size="10" fill="#fff">GPIO 15 (in1)</text>
    
    <circle cx="830" cy="160" r="4" fill="#00ff00"/>
    <text x="760" y="165" font-size="10" fill="#fff">GPIO 14 (in2)</text>
    
    <circle cx="830" cy="180" r="4" fill="#00ff00"/>
    <text x="765" y="185" font-size="10" fill="#fff">GPIO 2 (in3)</text>
    
    <circle cx="830" cy="200" r="4" fill="#00ff00"/>
    <text x="765" y="205" font-size="10" fill="#fff">GPIO 4 (in4)</text>
    
    <circle cx="830" cy="220" r="4" fill="#00ff00"/>
    <text x="755" y="225" font-size="10" fill="#fff">GPIO 12 (enB)</text>
    
    <!-- Sensor Pins -->
    <circle cx="570" cy="170" r="4" fill="#ffaa00"/>
    <text x="480" y="175" font-size="10" fill="#fff">GPIO 33 (Right)</text>
    
    <circle cx="570" cy="190" r="4" fill="#ffaa00"/>
    <text x="485" y="195" font-size="10" fill="#fff">GPIO 1 (Front)</text>
    
    <circle cx="570" cy="210" r="4" fill="#ffaa00"/>
    <text x="490" y="215" font-size="10" fill="#fff">GPIO 3 (Left)</text>
    
    <!-- Servo & Pump -->
    <circle cx="570" cy="230" r="4" fill="#00aaff"/>
    <text x="485" y="235" font-size="10" fill="#fff">GPIO 16 (Servo)</text>
  </g>
  
  <!-- Battery Pack -->
  <g id="battery">
    <rect x="50" y="80" width="120" height="160" fill="#ff6b6b" stroke="#000" stroke-width="2" rx="5"/>
    <text x="110" y="105" font-size="14" font-weight="bold" fill="#fff" text-anchor="middle">Battery Pack</text>
    <text x="110" y="125" font-size="12" fill="#fff" text-anchor="middle">3.7V Li-ion</text>
    <text x="110" y="145" font-size="12" fill="#fff" text-anchor="middle">x2 (7.4V)</text>
    <text x="110" y="165" font-size="10" fill="#fff" text-anchor="middle">or</text>
    <text x="110" y="185" font-size="12" fill="#fff" text-anchor="middle">x3 (11.1V)</text>
    
    <!-- Battery Terminals -->
    <circle cx="110" cy="210" r="5" fill="#ff0000"/>
    <text x="125" y="215" font-size="12" fill="#fff">+</text>
    
    <circle cx="110" cy="230" r="5" fill="#000"/>
    <text x="125" y="235" font-size="12" fill="#fff">-</text>
  </g>
  
  <!-- L298N Motor Driver -->
  <g id="l298n">
    <rect x="950" y="100" width="300" height="250" fill="#4a90e2" stroke="#000" stroke-width="2" rx="5"/>
    <text x="1100" y="125" font-size="18" font-weight="bold" fill="#fff" text-anchor="middle">L298N Motor Driver</text>
    
    <!-- Power Input -->
    <circle cx="970" cy="150" r="4" fill="#ff0000"/>
    <text x="985" y="155" font-size="11" fill="#fff">12V</text>
    
    <circle cx="970" cy="170" r="4" fill="#000"/>
    <text x="985" y="175" font-size="11" fill="#fff">GND</text>
    
    <circle cx="970" cy="190" r="4" fill="#ff0000"/>
    <text x="985" y="195" font-size="11" fill="#fff">5V Out</text>
    
    <!-- Control Pins -->
    <circle cx="970" cy="220" r="4" fill="#00ff00"/>
    <text x="985" y="225" font-size="10" fill="#fff">ENA</text>
    
    <circle cx="970" cy="240" r="4" fill="#00ff00"/>
    <text x="985" y="245" font-size="10" fill="#fff">IN1</text>
    
    <circle cx="970" cy="260" r="4" fill="#00ff00"/>
    <text x="985" y="265" font-size="10" fill="#fff">IN2</text>
    
    <circle cx="970" cy="280" r="4" fill="#00ff00"/>
    <text x="985" y="285" font-size="10" fill="#fff">IN3</text>
    
    <circle cx="970" cy="300" r="4" fill="#00ff00"/>
    <text x="985" y="305" font-size="10" fill="#fff">IN4</text>
    
    <circle cx="970" cy="320" r="4" fill="#00ff00"/>
    <text x="985" y="325" font-size="10" fill="#fff">ENB</text>
    
    <!-- Motor Outputs -->
    <text x="1180" y="165" font-size="12" fill="#fff">Motor A</text>
    <circle cx="1230" cy="160" r="4" fill="#ffff00"/>
    <text x="1240" y="165" font-size="10" fill="#fff">OUT1</text>
    <circle cx="1230" cy="180" r="4" fill="#ffff00"/>
    <text x="1240" y="185" font-size="10" fill="#fff">OUT2</text>
    
    <text x="1180" y="245" font-size="12" fill="#fff">Motor B</text>
    <circle cx="1230" cy="240" r="4" fill="#ffff00"/>
    <text x="1240" y="245" font-size="10" fill="#fff">OUT3</text>
    <circle cx="1230" cy="260" r="4" fill="#ffff00"/>
    <text x="1240" y="265" font-size="10" fill="#fff">OUT4</text>
  </g>
  
  <!-- DC Motors -->
  <g id="motors">
    <rect x="1280" y="420" width="80" height="80" fill="#666" stroke="#000" stroke-width="2" rx="5"/>
    <circle cx="1320" cy="460" r="25" fill="#999" stroke="#000" stroke-width="2"/>
    <text x="1320" y="510" font-size="11" text-anchor="middle">Right Front</text>
    
    <rect x="1280" y="520" width="80" height="80" fill="#666" stroke="#000" stroke-width="2" rx="5"/>
    <circle cx="1320" cy="560" r="25" fill="#999" stroke="#000" stroke-width="2"/>
    <text x="1320" y="610" font-size="11" text-anchor="middle">Right Back</text>
    
    <rect x="40" y="420" width="80" height="80" fill="#666" stroke="#000" stroke-width="2" rx="5"/>
    <circle cx="80" cy="460" r="25" fill="#999" stroke="#000" stroke-width="2"/>
    <text x="80" y="510" font-size="11" text-anchor="middle">Left Front</text>
    
    <rect x="40" y="520" width="80" height="80" fill="#666" stroke="#000" stroke-width="2" rx="5"/>
    <circle cx="80" cy="560" r="25" fill="#999" stroke="#000" stroke-width="2"/>
    <text x="80" y="610" font-size="11" text-anchor="middle">Left Back</text>
  </g>
  
  <!-- Flame Sensors -->
  <g id="sensors">
    <rect x="200" y="300" width="80" height="60" fill="#ff9800" stroke="#000" stroke-width="2" rx="3"/>
    <circle cx="240" cy="330" r="15" fill="#fff" stroke="#000" stroke-width="1"/>
    <text x="240" y="370" font-size="10" text-anchor="middle">IR Flame</text>
    <text x="240" y="385" font-size="10" text-anchor="middle">Right</text>
    
    <rect x="320" y="300" width="80" height="60" fill="#ff9800" stroke="#000" stroke-width="2" rx="3"/>
    <circle cx="360" cy="330" r="15" fill="#fff" stroke="#000" stroke-width="1"/>
    <text x="360" y="370" font-size="10" text-anchor="middle">IR Flame</text>
    <text x="360" y="385" font-size="10" text-anchor="middle">Front</text>
    
    <rect x="440" y="300" width="80" height="60" fill="#ff9800" stroke="#000" stroke-width="2" rx="3"/>
    <circle cx="480" cy="330" r="15" fill="#fff" stroke="#000" stroke-width="1"/>
    <text x="480" y="370" font-size="10" text-anchor="middle">IR Flame</text>
    <text x="480" y="385" font-size="10" text-anchor="middle">Left</text>
  </g>
  
  <!-- Servo Motor -->
  <g id="servo">
    <rect x="600" y="450" width="100" height="70" fill="#795548" stroke="#000" stroke-width="2" rx="3"/>
    <rect x="620" y="470" width="60" height="30" fill="#a0a0a0" stroke="#000" stroke-width="1"/>
    <line x1="650" y1="470" x2="650" y2="440" stroke="#333" stroke-width="4"/>
    <circle cx="650" cy="430" r="8" fill="#666" stroke="#000" stroke-width="1"/>
    <text x="650" y="540" font-size="11" text-anchor="middle">Servo Motor</text>
    <text x="650" y="555" font-size="10" text-anchor="middle">(Pan/Tilt)</text>
  </g>
  
  <!-- Water Pump -->
  <g id="pump">
    <rect x="800" y="450" width="90" height="90" fill="#2196f3" stroke="#000" stroke-width="2" rx="5"/>
    <circle cx="845" cy="495" r="30" fill="#64b5f6" stroke="#000" stroke-width="2"/>
    <path d="M 830 495 L 860 495 M 845 480 L 845 510" stroke="#fff" stroke-width="3"/>
    <text x="845" y="555" font-size="11" text-anchor="middle">Submersible</text>
    <text x="845" y="570" font-size="11" text-anchor="middle">Pump</text>
  </g>
  
  <!-- Connections -->
  <!-- Battery to L298N -->
  <line x1="110" y1="210" x2="110" y2="150" stroke="#ff0000" stroke-width="2"/>
  <line x1="110" y1="150" x2="970" y2="150" stroke="#ff0000" stroke-width="2"/>
  
  <line x1="110" y1="230" x2="110" y2="270" stroke="#000" stroke-width="2"/>
  <line x1="110" y1="270" x2="970" y2="270" stroke="#000" stroke-width="2"/>
  <line x1="970" y1="270" x2="970" y2="170" stroke="#000" stroke-width="2"/>
  
  <!-- L298N 5V out to ESP32 -->
  <line x1="970" y1="190" x2="570" y2="120" stroke="#ff0000" stroke-width="2" stroke-dasharray="5,5"/>
  <line x1="970" y1="170" x2="570" y2="145" stroke="#000" stroke-width="2" stroke-dasharray="5,5"/>
  
  <!-- ESP32 to L298N Control -->
  <line x1="830" y1="120" x2="970" y2="220" stroke="#00ff00" stroke-width="1.5"/>
  <line x1="830" y1="140" x2="970" y2="240" stroke="#00ff00" stroke-width="1.5"/>
  <line x1="830" y1="160" x2="970" y2="260" stroke="#00ff00" stroke-width="1.5"/>
  <line x1="830" y1="180" x2="970" y2="280" stroke="#00ff00" stroke-width="1.5"/>
  <line x1="830" y1="200" x2="970" y2="300" stroke="#00ff00" stroke-width="1.5"/>
  <line x1="830" y1="220" x2="970" y2="320" stroke="#00ff00" stroke-width="1.5"/>
  
  <!-- L298N to Motors -->
  <line x1="1230" y1="160" x2="1320" y2="440" stroke="#ffff00" stroke-width="2"/>
  <line x1="1230" y1="180" x2="1320" y2="480" stroke="#ffff00" stroke-width="2"/>
  <line x1="1230" y1="240" x2="1320" y2="540" stroke="#ffff00" stroke-width="2"/>
  <line x1="1230" y1="260" x2="1320" y2="580" stroke="#ffff00" stroke-width="2"/>
  
  <!-- Parallel Motors -->
  <line x1="1280" y1="460" x2="120" y2="460" stroke="#ffff00" stroke-width="1.5" stroke-dasharray="3,3"/>
  <line x1="1280" y1="560" x2="120" y2="560" stroke="#ffff00" stroke-width="1.5" stroke-dasharray="3,3"/>
  
  <!-- ESP32 to Sensors -->
  <line x1="570" y1="170" x2="240" y2="300" stroke="#ffaa00" stroke-width="1.5"/>
  <line x1="570" y1="190" x2="360" y2="300" stroke="#ffaa00" stroke-width="1.5"/>
  <line x1="570" y1="210" x2="480" y2="300" stroke="#ffaa00" stroke-width="1.5"/>
  
  <!-- ESP32 to Servo -->
  <line x1="570" y1="230" x2="650" y2="450" stroke="#00aaff" stroke-width="1.5"/>
  
  <!-- Battery to Pump (via relay) -->
  <line x1="110" y1="210" x2="800" y2="495" stroke="#ff0000" stroke-width="2" stroke-dasharray="5,5"/>
  
  <!-- Legend -->
  <g id="legend">
    <rect x="50" y="700" width="600" height="250" fill="#f5f5f5" stroke="#000" stroke-width="2" rx="5"/>
    <text x="350" y="730" font-size="16" font-weight="bold" text-anchor="middle">Components List</text>
    
    <text x="70" y="760" font-size="13" font-weight="bold">1. ESP32-CAM Module</text>
    <text x="70" y="780" font-size="13" font-weight="bold">2. L298N Motor Driver (x1)</text>
    <text x="70" y="800" font-size="13" font-weight="bold">3. 3.7V Li-ion Batteries (x2 or x3)</text>
    <text x="70" y="820" font-size="13" font-weight="bold">4. DC Motors (x4, for wheels)</text>
    <text x="70" y="840" font-size="13" font-weight="bold">5. IR Flame Sensors (x3)</text>
    <text x="70" y="860" font-size="13" font-weight="bold">6. SG90 Servo Motor (x1)</text>
    <text x="70" y="880" font-size="13" font-weight="bold">7. Submersible Water Pump (3-6V)</text>
    <text x="70" y="900" font-size="13" font-weight="bold">8. 5V Relay Module (for pump)</text>
    <text x="70" y="920" font-size="13" font-weight="bold">9. Jumper Wires & Breadboard</text>
  </g>
  
  <!-- Notes -->
  <g id="notes">
    <rect x="700" y="700" width="650" height="250" fill="#fff3cd" stroke="#000" stroke-width="2" rx="5"/>
    <text x="1025" y="730" font-size="16" font-weight="bold" text-anchor="middle">Connection Notes</text>
    
    <text x="720" y="760" font-size="12">• Battery: Use 2S (7.4V) or 3S (11.1V) Li-ion pack</text>
    <text x="720" y="780" font-size="12">• L298N provides 5V output for ESP32-CAM</text>
    <text x="720" y="800" font-size="12">• Remove L298N jumpers if using 12V supply</text>
    <text x="720" y="820" font-size="12">• Connect motors in parallel: Front+Back per side</text>
    <text x="720" y="840" font-size="12">• Flame sensors: VCC→5V, GND→GND, OUT→GPIO</text>
    <text x="720" y="860" font-size="12">• Servo: Brown→GND, Red→5V, Orange→GPIO16</text>
    <text x="720" y="880" font-size="12">• Pump needs relay (GPIO controls relay, relay→pump)</text>
    <text x="720" y="900" font-size="12">• Add capacitors (100µF) across motor terminals</text>
    <text x="720" y="920" font-size="12">• Use heat sinks on L298N for continuous operation</text>
    <text x="720" y="940" font-size="12">• Ensure common ground for all components</text>
  </g>
  
  <!-- Color Code Legend -->
  <g id="colorcode">
    <text x="700" y="630" font-size="14" font-weight="bold">Wire Color Code:</text>
    <line x1="850" y1="625" x2="900" y2="625" stroke="#ff0000" stroke-width="3"/>
    <text x="910" y="630" font-size="12">Power (+)</text>
    
    <line x1="1000" y1="625" x2="1050" y2="625" stroke="#000" stroke-width="3"/>
    <text x="1060" y="630" font-size="12">Ground (-)</text>
    
    <line x1="1150" y1="625" x2="1200" y2="625" stroke="#00ff00" stroke-width="3"/>
    <text x="1210" y="630" font-size="12">Control Signal</text>
  </g>
</svg>